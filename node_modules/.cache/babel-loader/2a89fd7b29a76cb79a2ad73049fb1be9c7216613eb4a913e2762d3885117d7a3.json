{"ast":null,"code":"import _objectSpread from\"C:/Users/mahab/OneDrive/Documents/Desktop/mobile/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useReducer,useEffect}from'react';import axios from'axios';import toast from'react-hot-toast';import{sanitizeInput,validateEmail,validatePassword,rateLimiter,secureStorage,csrfToken}from'../utils/security';import{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext();const initialState={user:null,token:secureStorage.get('auth_token'),isAuthenticated:false,loading:true};const authReducer=(state,action)=>{switch(action.type){case'USER_LOADED':return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,loading:false,user:action.payload});case'LOGIN_SUCCESS':case'REGISTER_SUCCESS':secureStorage.set('auth_token',action.payload.token);localStorage.setItem('token',action.payload.token);// Also store in regular localStorage for compatibility\nreturn _objectSpread(_objectSpread(_objectSpread({},state),action.payload),{},{isAuthenticated:true,loading:false});case'AUTH_ERROR':case'LOGIN_FAIL':case'REGISTER_FAIL':case'LOGOUT':secureStorage.remove('auth_token');localStorage.removeItem('token');// Also remove from regular localStorage\nreturn _objectSpread(_objectSpread({},state),{},{token:null,isAuthenticated:false,loading:false,user:null});case'CLEAR_ERRORS':return _objectSpread(_objectSpread({},state),{},{error:null});default:return state;}};export const AuthProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(authReducer,initialState);// Set auth token in axios headers\nconst setAuthToken=token=>{if(token){axios.defaults.headers.common['Authorization']=\"Bearer \".concat(token);}else{delete axios.defaults.headers.common['Authorization'];}};// Load user\nconst loadUser=async()=>{const token=secureStorage.get('auth_token');if(token){setAuthToken(token);}try{const res=await axios.get('/api/auth/me');dispatch({type:'USER_LOADED',payload:res.data.user});}catch(err){dispatch({type:'AUTH_ERROR'});}};// Register user with security validation\nconst register=async formData=>{try{// Rate limiting check\nif(!rateLimiter.canMakeRequest('register',3,300000)){// 3 attempts per 5 minutes\ntoast.error('Too many registration attempts. Please try again later.');throw new Error('Rate limit exceeded');}// Input validation and sanitization\nconst sanitizedData={name:sanitizeInput(formData.name),email:sanitizeInput(formData.email.toLowerCase()),phone:sanitizeInput(formData.phone.replace(/\\D/g,'')),password:formData.password// Don't sanitize password\n};// Validate email\nif(!validateEmail(sanitizedData.email)){toast.error('Please enter a valid email address');throw new Error('Invalid email');}// Validate password\nconst passwordValidation=validatePassword(sanitizedData.password);if(!passwordValidation.isValid){toast.error(passwordValidation.errors[0]);throw new Error('Invalid password');}// Add CSRF token\nconst headers={'X-CSRF-Token':csrfToken.get()};const res=await axios.post('/api/auth/register',sanitizedData,{headers});dispatch({type:'REGISTER_SUCCESS',payload:res.data});toast.success('Registration successful!');loadUser();}catch(err){var _err$response,_err$response$data;const error=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message||'Registration failed';toast.error(error);dispatch({type:'REGISTER_FAIL',payload:error});throw err;}};// Login user with security validation\nconst login=async formData=>{try{// Rate limiting check\nif(!rateLimiter.canMakeRequest('login',5,900000)){// 5 attempts per 15 minutes\ntoast.error('Too many login attempts. Please try again later.');throw new Error('Rate limit exceeded');}// Input sanitization\nconst sanitizedData={email:sanitizeInput(formData.email.toLowerCase()),password:formData.password// Don't sanitize password\n};// Validate email format\nif(!validateEmail(sanitizedData.email)){toast.error('Please enter a valid email address');throw new Error('Invalid email');}// Demo mode - simulate successful login\nif(sanitizedData.email==='demo@mobirepair.com'&&sanitizedData.password==='demo123'){const demoUser={id:'demo-user-123',name:'Demo User',email:'demo@mobirepair.com',phone:'+91 7407926912',role:'user'};const demoToken='demo-jwt-token-123';dispatch({type:'LOGIN_SUCCESS',payload:{token:demoToken,user:demoUser}});toast.success('Login successful!');return;}// Add CSRF token\nconst headers={'X-CSRF-Token':csrfToken.get()};const res=await axios.post('/api/auth/login',sanitizedData,{headers});dispatch({type:'LOGIN_SUCCESS',payload:res.data});toast.success('Login successful!');loadUser();}catch(err){var _err$response2,_err$response2$data;const error=((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||err.message||'Login failed';toast.error(error);dispatch({type:'LOGIN_FAIL',payload:error});throw err;}};// Logout with token cleanup\nconst logout=()=>{// Clear token from storage and axios headers\nsecureStorage.remove('auth_token');localStorage.removeItem('token');// Also remove from regular localStorage\nsetAuthToken(null);// Generate new CSRF token\ncsrfToken.store(csrfToken.generate());dispatch({type:'LOGOUT'});toast.success('Logged out successfully');};useEffect(()=>{loadUser();},[]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:_objectSpread(_objectSpread({},state),{},{register,login,logout,loadUser}),children:children});};export const useAuth=()=>{const context=useContext(AuthContext);if(!context){throw new Error('useAuth must be used within an AuthProvider');}return context;};","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","axios","toast","sanitizeInput","validateEmail","validatePassword","rateLimiter","secureStorage","csrfToken","jsx","_jsx","AuthContext","initialState","user","token","get","isAuthenticated","loading","authReducer","state","action","type","_objectSpread","payload","set","localStorage","setItem","remove","removeItem","error","AuthProvider","_ref","children","dispatch","setAuthToken","defaults","headers","common","concat","loadUser","res","data","err","register","formData","canMakeRequest","Error","sanitizedData","name","email","toLowerCase","phone","replace","password","passwordValidation","isValid","errors","post","success","_err$response","_err$response$data","response","message","login","demoUser","id","role","demoToken","_err$response2","_err$response2$data","logout","store","generate","Provider","value","useAuth","context"],"sources":["C:/Users/mahab/OneDrive/Documents/Desktop/mobile/frontend/src/context/AuthContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\nimport { \r\n  sanitizeInput, \r\n  validateEmail, \r\n  validatePassword,\r\n  rateLimiter,\r\n  secureStorage,\r\n  csrfToken\r\n} from '../utils/security';\r\n\r\nconst AuthContext = createContext();\r\n\r\nconst initialState = {\r\n  user: null,\r\n  token: secureStorage.get('auth_token'),\r\n  isAuthenticated: false,\r\n  loading: true,\r\n};\r\n\r\nconst authReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'USER_LOADED':\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n        loading: false,\r\n        user: action.payload,\r\n      };\r\n    case 'LOGIN_SUCCESS':\r\n    case 'REGISTER_SUCCESS':\r\n      secureStorage.set('auth_token', action.payload.token);\r\n      localStorage.setItem('token', action.payload.token); // Also store in regular localStorage for compatibility\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n        isAuthenticated: true,\r\n        loading: false,\r\n      };\r\n    case 'AUTH_ERROR':\r\n    case 'LOGIN_FAIL':\r\n    case 'REGISTER_FAIL':\r\n    case 'LOGOUT':\r\n      secureStorage.remove('auth_token');\r\n      localStorage.removeItem('token'); // Also remove from regular localStorage\r\n      return {\r\n        ...state,\r\n        token: null,\r\n        isAuthenticated: false,\r\n        loading: false,\r\n        user: null,\r\n      };\r\n    case 'CLEAR_ERRORS':\r\n      return {\r\n        ...state,\r\n        error: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(authReducer, initialState);\r\n\r\n  // Set auth token in axios headers\r\n  const setAuthToken = (token) => {\r\n    if (token) {\r\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n    } else {\r\n      delete axios.defaults.headers.common['Authorization'];\r\n    }\r\n  };\r\n\r\n  // Load user\r\n  const loadUser = async () => {\r\n    const token = secureStorage.get('auth_token');\r\n    if (token) {\r\n      setAuthToken(token);\r\n    }\r\n\r\n    try {\r\n      const res = await axios.get('/api/auth/me');\r\n      dispatch({\r\n        type: 'USER_LOADED',\r\n        payload: res.data.user,\r\n      });\r\n    } catch (err) {\r\n      dispatch({ type: 'AUTH_ERROR' });\r\n    }\r\n  };\r\n\r\n  // Register user with security validation\r\n  const register = async (formData) => {\r\n    try {\r\n      // Rate limiting check\r\n      if (!rateLimiter.canMakeRequest('register', 3, 300000)) { // 3 attempts per 5 minutes\r\n        toast.error('Too many registration attempts. Please try again later.');\r\n        throw new Error('Rate limit exceeded');\r\n      }\r\n\r\n      // Input validation and sanitization\r\n      const sanitizedData = {\r\n        name: sanitizeInput(formData.name),\r\n        email: sanitizeInput(formData.email.toLowerCase()),\r\n        phone: sanitizeInput(formData.phone.replace(/\\D/g, '')),\r\n        password: formData.password // Don't sanitize password\r\n      };\r\n\r\n      // Validate email\r\n      if (!validateEmail(sanitizedData.email)) {\r\n        toast.error('Please enter a valid email address');\r\n        throw new Error('Invalid email');\r\n      }\r\n\r\n      // Validate password\r\n      const passwordValidation = validatePassword(sanitizedData.password);\r\n      if (!passwordValidation.isValid) {\r\n        toast.error(passwordValidation.errors[0]);\r\n        throw new Error('Invalid password');\r\n      }\r\n\r\n      // Add CSRF token\r\n      const headers = {\r\n        'X-CSRF-Token': csrfToken.get()\r\n      };\r\n\r\n      const res = await axios.post('/api/auth/register', sanitizedData, { headers });\r\n      dispatch({\r\n        type: 'REGISTER_SUCCESS',\r\n        payload: res.data,\r\n      });\r\n      toast.success('Registration successful!');\r\n      loadUser();\r\n    } catch (err) {\r\n      const error = err.response?.data?.message || err.message || 'Registration failed';\r\n      toast.error(error);\r\n      dispatch({\r\n        type: 'REGISTER_FAIL',\r\n        payload: error,\r\n      });\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  // Login user with security validation\r\n  const login = async (formData) => {\r\n    try {\r\n      // Rate limiting check\r\n      if (!rateLimiter.canMakeRequest('login', 5, 900000)) { // 5 attempts per 15 minutes\r\n        toast.error('Too many login attempts. Please try again later.');\r\n        throw new Error('Rate limit exceeded');\r\n      }\r\n\r\n      // Input sanitization\r\n      const sanitizedData = {\r\n        email: sanitizeInput(formData.email.toLowerCase()),\r\n        password: formData.password // Don't sanitize password\r\n      };\r\n\r\n      // Validate email format\r\n      if (!validateEmail(sanitizedData.email)) {\r\n        toast.error('Please enter a valid email address');\r\n        throw new Error('Invalid email');\r\n      }\r\n\r\n      // Demo mode - simulate successful login\r\n      if (sanitizedData.email === 'demo@mobirepair.com' && sanitizedData.password === 'demo123') {\r\n        const demoUser = {\r\n          id: 'demo-user-123',\r\n          name: 'Demo User',\r\n          email: 'demo@mobirepair.com',\r\n          phone: '+91 7407926912',\r\n          role: 'user'\r\n        };\r\n        const demoToken = 'demo-jwt-token-123';\r\n        \r\n        dispatch({\r\n          type: 'LOGIN_SUCCESS',\r\n          payload: {\r\n            token: demoToken,\r\n            user: demoUser\r\n          },\r\n        });\r\n        toast.success('Login successful!');\r\n        return;\r\n      }\r\n\r\n      // Add CSRF token\r\n      const headers = {\r\n        'X-CSRF-Token': csrfToken.get()\r\n      };\r\n      \r\n      const res = await axios.post('/api/auth/login', sanitizedData, { headers });\r\n      dispatch({\r\n        type: 'LOGIN_SUCCESS',\r\n        payload: res.data,\r\n      });\r\n      toast.success('Login successful!');\r\n      loadUser();\r\n    } catch (err) {\r\n      const error = err.response?.data?.message || err.message || 'Login failed';\r\n      toast.error(error);\r\n      dispatch({\r\n        type: 'LOGIN_FAIL',\r\n        payload: error,\r\n      });\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  // Logout with token cleanup\r\n  const logout = () => {\r\n    // Clear token from storage and axios headers\r\n    secureStorage.remove('auth_token');\r\n    localStorage.removeItem('token'); // Also remove from regular localStorage\r\n    setAuthToken(null);\r\n    \r\n    // Generate new CSRF token\r\n    csrfToken.store(csrfToken.generate());\r\n    \r\n    dispatch({ type: 'LOGOUT' });\r\n    toast.success('Logged out successfully');\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadUser();\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        ...state,\r\n        register,\r\n        login,\r\n        logout,\r\n        loadUser,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}